# EduCart API Requests
# Usa este archivo con la extensiÃ³n REST Client de VS Code para probar los endpoints.
# Configura las variables de entorno bÃ¡sicas segÃºn tu entorno local.

@base_url = http://127.0.0.1:8000
@user_token = PON_AQUI_UN_TOKEN_DE_USUARIO
@admin_token = PON_AQUI_UN_TOKEN_DE_ADMIN

###
# ğŸ©º Healthcheck (servicio vivo)
GET {{base_url}}/health
Accept: application/json

###
# ğŸ  Root (mensaje de bienvenida)
GET {{base_url}}/
Accept: application/json

############################################################
# AUTH
############################################################

###
# ğŸ‘¤ Registrar nuevo usuario
POST {{base_url}}/auth/register
Content-Type: application/json

{
  "name": "Alex Cruz",
  "username": "alex",
  "email": "alexbleiz4335@gmail.com",
  "password": "123456789",
  "role": "admin"
}

###
# ğŸ” Login (devuelve token JWT)
POST {{base_url}}/auth/login
Content-Type: application/json

{
  "username": "demo_user",
  "password": "clave_segura"
}

###
# ğŸ” Perfil del usuario autenticado
GET {{base_url}}/auth/me
Authorization: Bearer {{user_token}}
Accept: application/json

###
# âœï¸ Actualizar perfil
PATCH {{base_url}}/auth/me
Authorization: Bearer {{user_token}}
Content-Type: application/json

{
  "name": "Usuario Demo Actualizado",
  "username": "demo_user"
}

############################################################
# CATEGORIES
############################################################

###
# ğŸ·ï¸ Listar categorÃ­as
GET {{base_url}}/categories/
Accept: application/json

###
# ğŸ“„ Obtener categorÃ­a por ID
GET {{base_url}}/categories/1
Accept: application/json

###
# â• Crear categorÃ­a (admin)
POST {{base_url}}/categories/
Authorization: Bearer {{admin_token}}
Content-Type: application/json

{
  "name": "Libros",
  "description": "Libros"
}

###
# âœï¸ Actualizar categorÃ­a (admin)
PUT {{base_url}}/categories/1
Authorization: Bearer {{admin_token}}
Content-Type: application/json

{
  "name": "PapelerÃ­a y accesorios",
  "description": "CatÃ¡logo completo de Ãºtiles."
}

###
# ğŸ—‘ï¸ Eliminar categorÃ­a (admin)
DELETE {{base_url}}/categories/1
Authorization: Bearer {{admin_token}}

############################################################
# PRODUCTS
############################################################

###
# ğŸ›ï¸ Listar productos con filtros opcionales
GET {{base_url}}/products/?categories=PapelerÃ­a&price_min=10&price_max=200&sort_by=price&order=asc
Accept: application/json

###
# ğŸ” Obtener producto por ID
GET {{base_url}}/products/1
Accept: application/json

###
# â• Crear producto (admin)
POST {{base_url}}/products/
Authorization: Bearer {{admin_token}}
Content-Type: application/json

{
  "name": "Cuaderno A4",
  "description": "Cuaderno con hojas rayadas de 100 pÃ¡ginas.",
  "price": 5.99,
  "rating": 4,
  "category_id": 1,
  "image_url": "https://example.com/cuaderno-a4.jpg",
  "sku": "CUAD-A4",
  "stock_current": 120,
  "stock_min": 10
}

###
# âœï¸ Actualizar producto (admin)
PATCH {{base_url}}/products/1
Authorization: Bearer {{admin_token}}
Content-Type: application/json

{
  "price": 6.49,
  "stock_current": 100
}

###
# ğŸ—‘ï¸ Eliminar producto (admin)
DELETE {{base_url}}/products/1
Authorization: Bearer {{admin_token}}

############################################################
# CART (requiere token de usuario)
############################################################

###
# ğŸ›’ Obtener carrito del usuario autenticado
GET {{base_url}}/cart/
Authorization: Bearer {{user_token}}
Accept: application/json

###
# â• Agregar producto al carrito
POST {{base_url}}/cart/
Authorization: Bearer {{user_token}}
Content-Type: application/json

{
  "product_id": 1,
  "quantity": 2
}

###
# ğŸ”„ Actualizar cantidad de un producto
PUT {{base_url}}/cart/
Authorization: Bearer {{user_token}}
Content-Type: application/json

{
  "product_id": 1,
  "quantity": 5
}

###
# ğŸ—‘ï¸ Eliminar un producto del carrito
DELETE {{base_url}}/cart/items/1
Authorization: Bearer {{user_token}}

###
# ğŸ§¹ Vaciar carrito
DELETE {{base_url}}/cart/
Authorization: Bearer {{user_token}}

############################################################
# ORDERS
############################################################

###
# ğŸ†• Crear una orden (checkout)
POST {{base_url}}/orders/
Authorization: Bearer {{user_token}}
Content-Type: application/json

{
  "shipping_address": "Calle Falsa 123",
  "locality": "Ciudad"
}

###
# ğŸ“œ Historial de Ã³rdenes del usuario
GET {{base_url}}/orders/my-orders
Authorization: Bearer {{user_token}}
Accept: application/json

###
# ğŸ“œ Todas las Ã³rdenes (admin)
GET {{base_url}}/orders/admin/all
Authorization: Bearer {{admin_token}}
Accept: application/json

###
# ğŸšš Actualizar estado de una orden
PATCH {{base_url}}/orders/1/status
Authorization: Bearer {{admin_token}}
Content-Type: application/json

{
  "status": "Completed"
}



