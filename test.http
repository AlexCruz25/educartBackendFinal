# test_edu_cart_v2.0.http

@auth_token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZXhwIjoxNzY1MzMyMjE4fQ.2mDMcXjSNe3tD94hmktwVfsj0WnWnm-Pv--ZRRar3xk
@base_url = http://127.0.0.1:8000

--- ğŸ©º HEALTH CHECK ---
###
GET {{base_url}}/
Accept: application/json

--- USERS (AUTH) ---

ğŸ‘¤ Crear Usuario (Registro)
###
POST {{base_url}}/auth/register
Content-Type: application/json

{
    "name": "Matias Perales",
    "username": "mati11",
    "email": "mati11@test.com",
    "password": "mi_clave_secreta"
}

###

ğŸ” Iniciar SesiÃ³n (Login)
###
POST {{base_url}}/auth/login
Content-Type: application/json

{
    "username": "mati11",
    "password": "mi_clave_secreta"
}

###

ğŸ” Obtener informaciÃ³n del usuario autenticado (Depende de un token vÃ¡lido)
###
GET {{base_url}}/auth/me
Authorization: Bearer {{auth_token}}
Accept: application/json



Editar informaciÃ³n del usuario autenticado (Depende de un token vÃ¡lido)
###
PATCH {{base_url}}/auth/me
Authorization: Bearer {{auth_token}}
Content-Type: application/json

{
    "name": "Matias Morales",
    "username": "mati11"
}

###

--- CATEGORIES (Admin Required) ---

ğŸ·ï¸ Listar todas las categorÃ­as (PÃºblico)
###
GET {{base_url}}/categories
Accept: application/json

â• Crear una nueva categorÃ­a (Requiere Admin Token)
###
POST {{base_url}}/categories
Authorization: Bearer {{auth_token}}
Content-Type: application/json

{
"name": "Libros de Texto",
"description": "BibliografÃ­a tÃ©cnica y novelas acadÃ©micas."
}


--- PRODUCTS ---

ğŸ›ï¸ Listar todos los productos (PÃºblico)
###
GET {{base_url}}/products?categories=Libros&price_min=50
Accept: application/json


ğŸ’° Ordenar por Precio: Bajo a Alto (Ascendente)
###
GET {{base_url}}/products/?sort_by=price&order=asc
Accept: application/json


###
ğŸ” Obtener un producto por ID (PÃºblico)
###
GET {{base_url}}/products/2
Accept: application/json

â• Crear un nuevo producto (Requiere Admin Token)
###
POST {{base_url}}/products
Authorization: Bearer {{auth_token}}
Content-Type: application/json

{
    "name": "Calculadora CientÃ­fica X",
    "description": "Calculadora con funciones avanzadas para ingenierÃ­a.",
    "price": 49.99,
    "rating": 5,
    "category_id": 1, 
    "image_url": "https://example.com/images/calc_x.jpg",
    "sku": "CALC-001",
    "stock_current": 50,
    "stock_min": 10
}

###

âœï¸ Actualizar Producto (Requiere Admin Token)  //! Arregalar este endpoint para que solo actualice el precio
###
PATCH  {{base_url}}/products/1
Authorization: Bearer {{auth_token}}
Content-Type: application/json

{
    "price": 55.00
}


--- CART (Secure: Uses Auth Token) ---

ğŸ›’ Obtener Carrito del Usuario Autenticado
###
GET {{base_url}}/cart
Authorization: Bearer {{auth_token}}
Accept: application/json

â• Agregar Ã­tem al carrito (Usando Token)
###
POST {{base_url}}/cart
Authorization: Bearer {{auth_token}}
Content-Type: application/json

{
"product_id": 3,
"quantity": 10
}

###

âœï¸ Actualizar cantidad de Ã­tem (Establecer a 5)
###
PUT {{base_url}}/cart
Authorization: Bearer {{auth_token}}
Content-Type: application/json

{
"product_id": 1,
"quantity": 5
}

###

ğŸ—‘ï¸ Eliminar un Ã­tem del carrito
###
DELETE {{base_url}}/cart/items/1
Authorization: Bearer {{auth_token}}
Accept: application/json


Eliminar todos los items del carrito
###
DELETE {{base_url}}/cart
Authorization: Bearer {{auth_token}}
Accept: application/json


--- ORDERS (Checkout AtÃ³mico) ---

ğŸ†• Crear una Orden (Checkout Final)
###
POST {{base_url}}/orders
Authorization: Bearer {{auth_token}}
Content-Type: application/json

{
    "shipping_address": "Calle Falsa 123, Ciudad de la EducaciÃ³n",
    "locality": "Mendoza"
}

###

ğŸ“œ Historial de Ã“rdenes del Cliente
###
GET {{base_url}}/orders/my-orders
Authorization: Bearer {{auth_token}}
Accept: application/json




###

ğŸ“œ Todas las ordenes
###
GET {{base_url}}/orders/admin/all
Authorization: Bearer {{auth_token}}
Accept: application/json




### ğŸšš ADMIN: Marcar orden como Completada
PATCH {{base_url}}/orders/1/status
Authorization: Bearer {{auth_token}}
Content-Type: application/json

{
  "status": "Completed"
}



